<!DOCTYPE html>
<html>
<head>
    <title>달력</title>
	<style type="text/css">
		#calendar {
			width: 500px;
    		margin: 0 auto;
		}
        td {
			position: relative;
            width: 100px;
            height: 80px;
            text-align: center;
            font-size: 20px;
            border: 1px solid #f4f2ef;
            border-radius: 8px;/*모서리 둥글게*/
        }
		td:hover {
			cursor: pointer;
		}
		td span {
			position: absolute;
			left: 5px;
			top: 5px;
		}
    </style>
<script type="text/javascript">
        var today = new Date();//오늘 날짜//내 컴퓨터 로컬을 기준으로 today에 Date 객체를 넣어줌
		var date = new Date();//today의 Date를 세어주는 역할
		console.log(today);
		console.log(date);
        function prevCalendar() {
			today = new Date(today.getFullYear(), today.getMonth()-1, today.getDate());
			console.log(today);
			buildCalendar();
        }
 
        function nextCalendar() {
			today = new Date(today.getFullYear(), today.getMonth()+1, today.getDate());
			console.log(today);
			buildCalendar();
        }
		function buildCalendar(){//현재 달 달력 만들기
			var doMonth = new Date(today.getFullYear(), today.getMonth(),1)
			var lastMonth = new Date(today.getFullYear(), today.getMonth()+1, 0);
			// console.log(doMonth);
			// console.log(lastMonth);
			var calender = document.getElementById('calendar');
			var tbcaldendarYM = document.getElementById('tbCalendarYM');

			tbCalendarYM.innerText = today.getFullYear() + '년' + today.getMonth() + '월';
			calendar.deleteRow(calendar.rows.length-1);

            var row = null;
            row = calender.insertRow();

			var cnt = 0;// count, 셀의 갯수를 세어주는 역할
			
			while (calender.rows.length > 2) {
				console.log('if in');
				calender.deleteRow(calender.rows.length-1);
			}
			// whild(calendar.rows.length)	

			for(var i=0; i<doMonth.getDay(); i++) {
				cell = row.insertCell();
				cnt += 1;
			}
			console.log(cell);
			for(var i = 1; i<= lastMonth.getDate(); i++) {
				cell = row.insertCell();	
				cell.innerHTML = "<span>" +i;
				cnt += 1;

				if(cnt % 7 == 1) {
					cell.innerHTML = "<span style='color:#F79DC2'>" + i;
				}

				if(cnt % 7 == 0) {
					cell.innerHTML = "<span style='color:#5164b9'>" + i;
					row = calender.insertRow();
				}
				// if(today.getYear() == )
				if (today.getFullYear() == date.getFullYear()
                 && today.getMonth() == date.getMonth()
                 && i == date.getDate()) {
                cell.bgColor = "#FAF58C";//셀의 배경색을 노랑으로 
               }
			}
		}
    </script>
</head>
<body>
    <p></p>
    <h3 >달력 예제</h3>
<table id="calendar">
    <tr><!-- label은 마우스로 클릭을 편하게 해줌 -->
		<td><label onclick="prevCalendar()"><</label></td>
		
        <td  id="tbCalendarYM" colspan="5">
		yyyy년 m월</td>
		
        <td><label onclick="nextCalendar()">>
            
        </label></td>
    </tr>
    <tr>
        <td >일</td>
        <td >월</td>
        <td >화</td>
        <td >수</td>
        <td >목</td>
        <td >금</td>
        <td >토</td>
    </tr> 
</table>
<script language="javascript" type="text/javascript">
    buildCalendar();//
</script>
</body>
</html>
